/*! jquery wizard - v0.1.0 - 2015-05-02
* https://github.com/amazingSurge/jquery-wizard
* Copyright (c) 2015 amazingSurge; Licensed GPL */
!function(a,b,c,d){"use strict";function e(a,b){var c=!1;a.one(g.transition.end,function(){c=!0});var d=function(){c||a.trigger(g.transition.end)};return setTimeout(d,b),this}function f(){return this.initialize.apply(this,Array.prototype.slice.call(arguments))}var g=function(){function b(b,c){var g=!1,h=b.charAt(0).toUpperCase()+b.slice(1);return e[b]!==d&&(g=b),g||a.each(f,function(a,b){return e[b+h]!==d?(g="-"+b.toLowerCase()+"-"+h,!1):void 0}),c?g:g?!0:!1}function c(a){return b(a,!0)}var e=a("<support>").get(0).style,f=["webkit","Moz","O","ms"],g={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}}},h={csstransitions:function(){return!!b("transition")}},i={};return h.csstransitions()&&(i.transition=new String(c("transition")),i.transition.end=g.transition.end[i.transition]),i}(),h=function(b,c){this.$element=a(b),this.options=a.extend(!0,{},h.defaults,c),this.$steps=this.$element.find(this.options.step),this.initialize()};h.defaults={step:".steps > li",classes:{step:{done:"done",error:"error",active:"active",disabled:"disabled"},panel:{active:"active",activing:"activing"}},keyNavigation:!0,contentCache:!0,hideButtonsOnDisabled:!0,onReset:null,onNext:null,onPreview:null,onFirst:null,onLast:null,onShow:null,onHide:null,onInit:null,onDestroy:null,onChanging:null,onChanged:null,onFinishing:null,onFinished:null,onContentLoaded:null},a.extend(f.prototype,{TRANSITION_DURATION:200,initialize:function(b,c,d){this.$element=a(b),this.wizard=c,this.isOpen=!1,this.transitioning=null,this.index=d,this.$element.data("wizard-index",d);var e=this.$element.data("target");e||(e=this.$element.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,"")),this.$panel=a(e)},setup:function(){this.index===this.wizard.currentIndex()&&(this.isOpen=!0),this.$element.attr("aria-expanded",this.isOpen),this.$panel.attr("aria-expanded",this.isOpen);var a=this.wizard.options.classes;this.isOpen?(this.$element.addClass(a.step.active),this.$panel.addClass(a.step.active)):(this.$element.removeClass(a.step.active),this.$panel.removeClass(a.step.active))},show:function(b){if(!this.transitioning&&!this.isOpen){var c=this.wizard.options.classes;this.$element.addClass(c.step.active).attr("aria-expanded",!0),this.$panel.addClass(c.panel.activing).addClass(c.panel.active).attr("aria-expanded",!0),this.transitioning=1;var d=function(){this.$panel.removeClass(c.panel.activing),this.transitioning=0,this.isOpen=!0,a.isFunction(b)&&b()};if(!g.transition)return d.call(this);this.$panel.one(g.transition.end,a.proxy(d,this)),e(this.$panel,this.TRANSITION_DURATION)}},hide:function(){if(!this.transitioning&&this.isOpen){var b=this.wizard.options.classes;this.$element.removeClass(b.step.active).attr("aria-expanded",!1),this.$panel.addClass(b.panel.activing).removeClass(b.panel.active).attr("aria-expanded",!1),this.transitioning=1;var c=function(c){this.$panel.removeClass(b.panel.activing),this.transitioning=0,this.isOpen=!1,a.isFunction(c)&&c()};if(!g.transition)return c.call(this);this.$panel.one(g.transition.end,a.proxy(c,this)),e(this.$panel,this.TRANSITION_DURATION)}},load:function(){},enable:function(){var a=this.wizard.classes;this.$element.removeClass(a.step.disabled)},disable:function(){var a=this.wizard.classes;this.$element.addClass(a.step.disabled)},validate:function(){},getPanel:function(){}}),a.extend(h.prototype,{Constructor:h,initialize:function(){this.steps=[];var b=this;this.$steps.each(function(a){b.steps.push(new f(this,b,a))}),this._current=0,this.transitioning=null,a.each(this.steps,function(a,b){b.setup()}),this.$element.on("click",this.options.step,function(c){var d=a(this).data("wizard-index");b.goTo(d)})},get:function(a){return a<this.length()&&this.steps[a]?this.steps[a]:null},goTo:function(a){if(a!==this._current&&this.transitioning!==!0){this.transitioning=!0;var b=this;this.current().hide(),this.get(a).show(function(){b._current=a,b.transitioning=!1})}},length:function(){return this.steps.length},current:function(){return this.get(this._current)},currentIndex:function(){return this._current},next:function(){return this._current<this.length()-1&&this.goTo(this._current+1),!1},preview:function(){this._current>0&&this.goTo(this._current-1)},first:function(){return this.goTo(0)},finish:function(){return this.goTo(this.length()-1)},reset:function(){},destroy:function(){}}),a.fn.wizard=function(b){if("string"!=typeof b)return this.each(function(){a.data(this,"wizard")||a.data(this,"wizard",new h(this,b))});var c=b,d=Array.prototype.slice.call(arguments,1);if(/^\_/.test(c))return!1;if(!/^(get)$/.test(c))return this.each(function(){var b=a.data(this,"wizard");b&&"function"==typeof b[c]&&b[c].apply(b,d)});var e=this.first().data("wizard");return e&&"function"==typeof e[c]?e[c].apply(e,d):void 0}}(jQuery,document,window);